# ==============================================================================
# Hyprland Configuration
# ==============================================================================
# Main configuration file for Hyprland compositor
# Additional configs are sourced at the bottom

# ------------------------------------------------------------------------------
# Monitor Configuration
# ------------------------------------------------------------------------------
# Laptop display: 2560x1600 at 165Hz with 1.6 scaling
monitor = eDP-1, 2560x1600@165, 0x0, 1.6

# External monitors: auto-configure with preferred resolution
monitor = , preferred, auto, 1

# ------------------------------------------------------------------------------
# Input Configuration
# ------------------------------------------------------------------------------
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    # Focus follows mouse cursor
    follow_mouse = 1

    # Touchpad settings
    touchpad {
        natural_scroll = true
        tap-to-click = true
        drag_lock = false
        disable_while_typing = true
    }

    sensitivity = 0
}

# ------------------------------------------------------------------------------
# General Settings
# ------------------------------------------------------------------------------
general {
    # Window gaps
    gaps_in = 4
    gaps_out = 8

    # Border settings
    border_size = 2
    col.active_border = rgba(89b4faff) rgba(cba6f7ff) 45deg
    col.inactive_border = rgba(45475aff)

    # Layout
    layout = dwindle

    # Allow window tearing (for games)
    allow_tearing = false
}

# ------------------------------------------------------------------------------
# Decoration
# ------------------------------------------------------------------------------
decoration {
    # Sharp corners (no rounding)
    rounding = 0

    # Opacity
    active_opacity = 1.0
    inactive_opacity = 1.0

    # Blur (disabled for performance)
    blur {
        enabled = false
        size = 3
        passes = 1
    }

    # Shadows
    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

# ------------------------------------------------------------------------------
# Animations
# ------------------------------------------------------------------------------
animations {
    enabled = true

    # Animation curves
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    # Animation settings
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# ------------------------------------------------------------------------------
# Layout Configuration
# ------------------------------------------------------------------------------
dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

# ------------------------------------------------------------------------------
# Gestures
# ------------------------------------------------------------------------------
gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
}

# ------------------------------------------------------------------------------
# Miscellaneous
# ------------------------------------------------------------------------------
misc {
    # Disable default wallpaper
    disable_hyprland_logo = true
    disable_splash_rendering = true

    # VRR (Variable Refresh Rate)
    vrr = 0
}

# ------------------------------------------------------------------------------
# Window Rules
# ------------------------------------------------------------------------------
# Float certain windows by default
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(imv)$
windowrulev2 = float, title:^(Picture-in-Picture)$

# Center floating windows
windowrulev2 = center, floating:1

# ------------------------------------------------------------------------------
# Source Additional Configs
# ------------------------------------------------------------------------------
source = ~/.config/hypr/nvidia.conf
source = ~/.config/hypr/keybinds.conf
source = ~/.config/hypr/autostart.conf
